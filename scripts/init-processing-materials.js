const { PrismaClient } = require('@prisma/client');

const prisma = new PrismaClient();

async function initProcessingMaterials() {
  try {
    console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏...');

    // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
    console.log('üßπ –û—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö...');
    await prisma.processing_resources.deleteMany({});
    await prisma.processing_templates.deleteMany({});
    await prisma.processing_scripts.deleteMany({});
    await prisma.processing_instructions.deleteMany({});

    // –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
    const instructions = [
      {
        title: '–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–µ–ø–æ–∑–∏—Ç–∞–º–∏',
        content: `1. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –¥–µ–ø–æ–∑–∏—Ç–µ—Ä–∞
2. –°—É–º–º–∞ –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö (USD)
3. –í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–µ—Ç—å/–≤–∞–ª—é—Ç—É –¥–ª—è –ø–æ–º–µ—Ç–∫–∏
4. –î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–º–µ—Ç–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
5. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π`,
        category: 'rules',
        priority: 5,
        isActive: true,
        isPublic: true
      },
      {
        title: '–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã',
        content: `Q: –ö–æ–≥–¥–∞ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –±–æ–Ω—É—Å—ã?
A: –ë–æ–Ω—É—Å—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–µ–ø–æ–∑–∏—Ç–∞.

Q: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è?
A: –ù–µ—Ç, –¥–µ–ø–æ–∑–∏—Ç—ã –Ω–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

Q: –ö–∞–∫ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –∑–∞—Ä–ø–ª–∞—Ç—É?
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞—è–≤–∫–∞ –Ω–∞ –ó–ü" –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.`,
        category: 'faq',
        priority: 4,
        isActive: true,
        isPublic: true
      },
      {
        title: '–°–æ–≤–µ—Ç—ã –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ',
        content: `‚Ä¢ –í–µ–¥–∏—Ç–µ —É—á–µ—Ç –≤—Å–µ—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
‚Ä¢ –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã`,
        category: 'tips',
        priority: 3,
        isActive: true,
        isPublic: true
      }
    ];

    console.log('üìù –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π...');
    await prisma.processing_instructions.createMany({
      data: instructions
    });
    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${instructions.length} –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π`);

    // –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
    const scripts = [
      {
        title: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç–∞',
        content: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–µ–ø–æ–∑–∏—Ç–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Å—É–º–º—É –∏ –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É.',
        description: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –Ω–∞—á–∞–ª–∞ –¥–∏–∞–ª–æ–≥–∞',
        category: 'greeting',
        language: 'ru',
        isActive: true,
        isPublic: true
      },
      {
        title: '–£—Ç–æ—á–Ω–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π',
        content: '–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–µ –Ω—É–∂–µ–Ω –≤–∞—à email. –¢–∞–∫–∂–µ —É–∫–∞–∂–∏—Ç–µ, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –æ—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.',
        description: '–ó–∞–ø—Ä–æ—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞',
        category: 'clarification',
        language: 'ru',
        isActive: true,
        isPublic: true
      },
      {
        title: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞',
        content: '–û—Ç–ª–∏—á–Ω–æ! –í–∞—à –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ —Å—É–º–º—É $[–°–£–ú–ú–ê] –≤ —Å–µ—Ç–∏ [–í–ê–õ–Æ–¢–ê] –ø—Ä–∏–Ω—è—Ç. –ë–æ–Ω—É—Å —Å–æ—Å—Ç–∞–≤–∏—Ç $[–ë–û–ù–£–°].',
        description: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞',
        category: 'confirmation',
        language: 'ru',
        isActive: true,
        isPublic: true
      },
      {
        title: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞',
        content: '–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, —è –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å. –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É, –∏ –º—ã –µ—ë —Ä–µ—à–∏–º.',
        description: '–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ–º–æ—â–∏ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º',
        category: 'support',
        language: 'ru',
        isActive: true,
        isPublic: true
      }
    ];

    console.log('üìú –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤...');
    await prisma.processing_scripts.createMany({
      data: scripts
    });
    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${scripts.length} —Å–∫—Ä–∏–ø—Ç–æ–≤`);

    // –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã
    const resources = [
      {
        title: '–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º',
        description: '–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –∏ —Å–µ—Ç–µ–π',
        type: 'link',
        url: 'https://docs.example.com/crypto-guide',
        category: 'education',
        isActive: true,
        isPublic: true,
        order: 1
      },
      {
        title: '–í–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Å–∏—Å—Ç–µ–º–æ–π',
        description: '–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π',
        type: 'video',
        url: 'https://youtube.com/watch?v=example',
        category: 'tutorial',
        isActive: true,
        isPublic: true,
        order: 2
      },
      {
        title: '–®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤',
        description: '–ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏',
        type: 'document',
        url: 'https://docs.example.com/templates',
        category: 'tools',
        isActive: true,
        isPublic: true,
        order: 3
      }
    ];

    console.log('üîó –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤...');
    await prisma.processing_resources.createMany({
      data: resources
    });
    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${resources.length} —Ä–µ—Å—É—Ä—Å–æ–≤`);

    // –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã
    const templates = [
      {
        name: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–µ–ø–æ–∑–∏—Ç–µ',
        description: '–®–∞–±–ª–æ–Ω –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–µ–ø–æ–∑–∏—Ç–∞',
        content: `–£–≤–∞–∂–∞–µ–º—ã–π –∫–ª–∏–µ–Ω—Ç!

–í–∞—à –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ —Å—É–º–º—É $[–°–£–ú–ú–ê] –≤ —Å–µ—Ç–∏ [–í–ê–õ–Æ–¢–ê] —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω.

–î–µ—Ç–∞–ª–∏ –¥–µ–ø–æ–∑–∏—Ç–∞:
- –°—É–º–º–∞: $[–°–£–ú–ú–ê]
- –°–µ—Ç—å: [–í–ê–õ–Æ–¢–ê]
- –ë–æ–Ω—É—Å: $[–ë–û–ù–£–°]
- –î–∞—Ç–∞: [–î–ê–¢–ê]

–°–ø–∞—Å–∏–±–æ –∑–∞ –¥–æ–≤–µ—Ä–∏–µ!`,
        type: 'email',
        variables: JSON.stringify(['–°–£–ú–ú–ê', '–í–ê–õ–Æ–¢–ê', '–ë–û–ù–£–°', '–î–ê–¢–ê']),
        isActive: true,
        isPublic: true
      },
      {
        name: '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø—Ä–æ–≤–µ—Ä–∫–µ',
        description: '–®–∞–±–ª–æ–Ω –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö',
        content: `–î–æ–±—Ä—ã–π –¥–µ–Ω—å!

–ù–∞–ø–æ–º–∏–Ω–∞–µ–º –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç–∞:
- Email –∫–ª–∏–µ–Ω—Ç–∞: [EMAIL]
- –°—É–º–º–∞: $[–°–£–ú–ú–ê]
- –í–∞–ª—é—Ç–∞: [–í–ê–õ–Æ–¢–ê]

–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.`,
        type: 'notification',
        variables: JSON.stringify(['EMAIL', '–°–£–ú–ú–ê', '–í–ê–õ–Æ–¢–ê']),
        isActive: true,
        isPublic: true
      }
    ];

    console.log('üìã –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤...');
    await prisma.processing_templates.createMany({
      data: templates
    });
    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${templates.length} —à–∞–±–ª–æ–Ω–æ–≤`);

    console.log('üéâ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
  } finally {
    await prisma.$disconnect();
  }
}

initProcessingMaterials();
